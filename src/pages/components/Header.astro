---
import Logo from './Logo.astro'

const menu = [
  {
    name: 'Equipos',
    href: '/equipos',
  },
  {
    name: 'Calendario',
    href: '/calendario',
  },
  {
    name: 'Estadisticas',
    href: '/estadisticas',
  },
  {
    name: 'Contacto',
    href: '/contacto',
  },
  {
    name: 'Reglamento',
    href: '/reglamento',
  },
]
Astro.url.pathname

const response = await fetch(
  'https://kinsgleague.santigarh-77.workers.dev/teams'
)
const teams = await response.json()
---

<header
  class="flex items-center w-screen bg-gradient-to-b from-[#00ff87] via-[#00ff87] to-[#60efff] p-8 gap-x-8"
>
  <div class="flex flex-col h-full gap-4 w-full">
    <nav>
      <ul
        class="flex justify-center items-center rounded-xl flex gap-x-4 [&>li>a:hover]:scale-150"
      >
        {
          teams.map(({ id, image, name }, index) => (
            <>
              {index === 6 ? <Logo /> : ''}
              <li>
                <a
                  class="group transition block"
                  href={`/team/${id}`}
                  title={name}
                >
                  <img
                    src={image}
                    class="group-hover:drop-shadow-[0px_0px_8px_#fff] h-16 w-16 drop-shadow-[0px_0px_4px_#fff]"
                    alt={`Escudo del equipo ${name}`}
                  />
                </a>
              </li>
            </>
          ))
        }
      </ul>
    </nav>
    <nav>
      <ul
        class="flex justify-center gap-x-4 font-semibold text-md [&>li>a]:opacity-80 [&>li>a:hover]:opacity-100 [&>li>a:hover]:underline"
      >
        {
          menu.map((items) => {
            const { name, href } = items
            return (
              <li>
                <a
                  class={`transtition ${
                    Astro.url.pathname === href
                      ? 'opacity-200 underline pointer-events-none'
                      : ''
                  }`}
                  href={href}
                >
                  {name}
                </a>
              </li>
            )
          })
        }
      </ul>
    </nav>
  </div>
</header>
